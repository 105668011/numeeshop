(function(){_weq["webengage.enableCallbacks"]=true;_weq["webengage._gaTracker"]=(webengage_fs_configurationMap._gaTracker?webengage_fs_configurationMap._gaTracker+".":"")+"_trackEvent";var b=function(f){var c="",e=false;if(_weq["GA.universalAnalyticsFunction"]||typeof ga!=="undefined"){var d=_weq["GA.universalAnalyticsFunction"]||"ga";if(typeof window[d]==="function"){e=true;window[d](function(h){c=h.get("trackingId");if(c===f){return true}})}if(window._gaq&&window._gat){var g=webengage_fs_configurationMap._gaTracker||"";c=window._gat._getTrackerByName(g)._getAccount();if(c===f){return false}}return e}};function a(f,e,d,g,h){if(b(_weq["webengage.ga.trackerId"])){var c=_weq["GA.universalAnalyticsFunction"]||"ga";if(typeof window[c]==="function"){window[c]("send","event",{eventCategory:f,eventAction:e,eventLabel:d,eventValue:g,nonInteraction:(typeof h==="boolean"&&h?1:0)})}}else{if(window._gaq){window._gaq.push([_weq["webengage._gaTracker"],f,e,d,g,(typeof h==="boolean"&&h?true:false)])}}}_weq["gaq.push"]=function(d,c){webengage.withELog(function(){switch(d){case"survey":webengage.survey.attachEventListner(c,function(e){webengage.withELog(function(){switch(c){case"submit":var g=e.questionResponses;var f=function(k){if(k instanceof Array){return k.join(",")}else{return webengage.util.stringify(k)}};if(g&&g.length>0){for(var h=0;h<g.length;h++){var j=g[h];var i;switch(j.value["@class"]){case"text":i=j.value.text;break;case"file":i=j.value.fileName+" | "+j.value.fileSize;break;case"score":i=j.value.value;break;default:i=f(j.value.values);break}a("WebEngage-Survey","survey-question-response ( "+i+" )","Question [S:"+e.surveyId+"] [Q:"+j.questionId+"] "+j.questionText)}}break;default:if(c==="complete"){a("WebEngage-Survey","survey-"+c,"Survey [S:"+e.surveyId+"] "+e.title,e.questionResponses.length)}if(c==="open"){a("WebEngage-Survey","survey-"+c,"Survey [S:"+e.surveyId+"] "+e.title,undefined,true)}break}},null,true)});break;case"notification":webengage.notification.attachEventListner(c,function(e){webengage.withELog(function(){if(c==="open"){a("WebEngage-Notification","notification-"+c,"Notification [N:"+e.notificationId+"] "+e.title,undefined,true)}else{a("WebEngage-Notification","notification-"+c,"Notification [N:"+e.notificationId+"] "+e.title)}},null,true)});break;case"feedback":webengage.feedback.attachEventListner(c,function(e){webengage.withELog(function(){switch(c){case"submit":var f=e.fields;var h="Anonymous";for(var g in f){if(f[g]&&f[g].value){var i=f[g].value;if(i["@class"]==="email"){h=i.text;break}}}a("WebEngage-Feedback","feedback-submit","By "+h);break;default:a("WebEngage-Feedback","feedback-"+c);break}},null,true)});break}},null,true)};_weq["webengage.gaEvents"]={feedback:["open","submit"],survey:["open","close","submit","complete"],notification:["open","close","click"]};webengage.withELog(function(){for(var d in _weq["webengage.gaEvents"]){for(var c=0;c<_weq["webengage.gaEvents"][d].length;c++){_weq["gaq.push"](d,_weq["webengage.gaEvents"][d][c])}}},null,true)})();